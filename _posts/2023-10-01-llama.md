---
title: " 专爪 转  Llama2  () 注 Colab (拽)? 专 - 拽爪"
author: SemSis 
date: 2023-10-01 00:34:00 +0800
categories: [Llama2, Quantization]
tags: [LLMs]
---

驻注 住驻专  拽 砖 **拽爪**, 砖 砖 注专转 住驻专 驻转转 `BitsAndBytes`, 驻砖专转 转 专爪 砖  Llama 2 住 注 专转 Goole Colab 拽 转 

## 专拽注

砖驻转  砖驻 Llama2 砖 专转  转 砖砖 专 注拽专:  拽  7 专 驻专专,    13 专 驻专专,  砖 - 70 专 驻专专.

##  砖 专砖  专抓  ? 

转 专,  注 转  爪专 转 专  砖 驻转 住 驻:\
&nbsp;&nbsp;&nbsp;&nbsp; `住驻专 驻专专 砖  锔  砖  驻专专`\
  专 住驻专, 砖 专:   13 专 驻专专, 砖   爪 爪注转 32 . 拽 砖-\
&nbsp;&nbsp;&nbsp;&nbsp; `住驻专 驻专专 砖  锔  砖  驻专专 = 13 专 锔 32 ` \
砖 住  - 28GB.

注专转 Google Colab 转 转 GPU  注专 - 15GB~ 砖 RAM,    注 专  砖 28GB.\
 砖  转 专抓  , 爪专 爪爪 转  砖 砖.\
  注砖转?   **旨止植住止转**!

## 住 爪注转 拽爪
注 转 拽 转 爪专转 专  专爪 砖 , 专爪 驻注 砖 爪爪  , 砖专  专专转 驻 转 转 爪注.\
 注专 砖转 拽转 注转,  pruning - distillation,   转拽 拽爪.\
拽爪  拽 爪爪  , 砖专 专 转 砖拽转 砖  爪 专转 拽 ,  转专. 拽专 砖 - 专爪 专 转 爪 砖 驻专专  -32  - 4 . 抓  驻砖专  砖驻  转 砖  住转 注 砖 砖 .

## 住驻专转 BitsAndBytes

住驻专 驻转转 `BitAndBytes`  住驻专转 注驻转 - Cuda, 转 砖 拽转 拽爪 砖转. - HuggingFace 爪注 专爪 注 `BitAndBytes`,  驻砖专 砖转砖 专抓 转 专  砖  拽, 爪注转 爪 专转 拽 砖 4 .

##   专 驻转?

**[1]** 砖 专砖 爪专 拽 专砖 砖砖  Llama2, 专 转专 砖 HuggingFace. 专 砖专 砖 转拽 token 砖.
![My image Name](/assets/images/post02_llama/llama_2_marker_v2.png)

**[2]** 驻转 专转 - Goole Colab 驻砖专 GPU.
转拽 转 住驻专转 专砖转:
```console
!pip install --quiet bitsandbytes
!pip install --quiet git+https://github.com/huggingface/transformers.git
!pip install --quiet accelerate
```

**[3]** 转专 - HuggingFace Hub  注转 转 - token 砖拽 砖 [1] 

```python
from huggingface_hub import notebook_login
notebook_login()
```


**[4]**  拽 注! 专 转 拽驻专爪 注专 拽爪 爪注转 `BitsAndBytes`

```python
bnb_config = transformers.BitsAndBytesConfig(
    load_in_4bit=True,               # Enable 4-bit quantization
    bnb_4bit_quant_type='fp4',       # 4bit Floating-point (FP) quantization
    bnb_4bit_use_double_quant=True,  # Enable nested quantization
    bnb_4bit_compute_dtype=bfloat16  # Computation type
)
```
驻专专 拽驻专爪:\
1锔 驻专专 `load_in_4bit` - 驻砖专  注 - 4 .\
2锔 驻专专 `bnb_4bit_quant_type` 注状 驻转 砖转 专转 (Linear layers) 砖转 住 4-bit NormalFloat, 砖 datatype 砖 注 驻爪 砖 砖拽 转驻 专转.\
3锔 驻专专 `bnb_4bit_use_double_quant` 驻砖专 拽爪 拽转, 砖驻专 注转 砖砖 专  - inference.\
4锔 驻专专 `bnb_4bit_compute_dtype`




## 拽 砖 Semantic Sisters

- claim 砖 砖 Llama2  砖专  open source,  驻注   专 爪  砖砖 爪专 砖  token 砖. 转 砖 驻转   falcon 砖 专砖 转.


## 专驻专住

https://colab.research.google.com/drive/1UHS0RS7ksy5UWmtxHPAoUDBAusBc0x4o#scrollTo=S2W3PLS_bmK1
